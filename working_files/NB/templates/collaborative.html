<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Collaborative Filtering</title>
  <link rel="stylesheet" href="/static/css/style.css">  <!-- Common CSS -->
</head>
<body>
  <div class="container">
    <header>
      <h1>Collaborative Filtering Recommendations</h1>
    </header>

    <!-- Navigation Tabs -->
    <div class="tabs">
      <button class="tab-button" onclick="location.href='/mainpage.html'">Contentâ€‘Based Filtering</button>
      <button class="tab-button" onclick="location.href='/collaborative_filtering'">Collaborative Filtering</button>
    </div>

    <!-- Collaborative Filtering Form -->
    <div class="collaborative-form">
      <h2>Enter Movie Name</h2>
      <form action="/collaborative_filtering" method="POST">
        <label for="movie_name">Movie Name:</label>
        <input type="text" id="movie_name" name="movie_name" required autocomplete="off" autocorrect="off" autocapitalize="off">
        <button type="submit">Get Recommendations</button>
      </form>
    </div>

    <!-- Displaying Top 10 Movie Recommendations -->
    <div class="movie-results">
      {% if movies %}
        <h2>Top 10 Movie Recommendations</h2>
        <ul>
          {% for movie in movies %}
            <li>
              <h3><strong>{{ movie.name }}</strong></h3>
              <p><strong>Genre:</strong> {{ movie.genre_name }}</p>
              <p><strong>Predicted Rating:</strong> {{ movie.scaled_predicted_rating }}</p>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        {% if error %}
          <p class="error-message">{{ error }}</p>
        {% endif %}
      {% endif %}
    </div>
  </div>
</body>
</html>
